<!--
  hub-de-projetos.html
  --------------------
  Página-hub para agrupar vários projetos (cada projeto em sua própria pasta
  com um index.html). Coloque este arquivo na raiz do repositório e mantenha
  cada projeto em uma pasta ao lado, por exemplo:

  /index.html (este arquivo)
  /projeto-calculadora/index.html
  /projeto-spotify-clone/index.html
  /projeto-lista-tarefas/index.html

  Como usar:
  1) Edite a array `projects` no final do arquivo (em <script>) para listar
     seus projetos — nome, pasta (relativa) e tags. Ou apenas crie pastas e
     atualize a lista.
  2) Clique em um card para carregar o projeto na área de visualização (iframe).
  3) Use o botão "Abrir em nova aba" para abrir o projeto diretamente.

  Dicas:
  - Prefira que cada projeto tenha seu próprio `index.html` na pasta.
  - Se for publicar no GitHub Pages, a URL final será:
      https://SEU_USUARIO.github.io/NOME_DO_REPOSITORIO/
    e os links relativos funcionarão.
-->

<!doctype html>
<html lang="pt-BR">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Hub de Projetos • Meus Projetos de Estudo</title>
    <style>
        :root {
            --bg: #0f1720;
            --card: #0b1220;
            --muted: #9aa4b2;
            --accent: #4f46e5;
            --glass: rgba(255, 255, 255, 0.03);
            --max-width: 1200px;
            color-scheme: dark;
            font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
        }

        * {
            box-sizing: border-box
        }

        body {
            margin: 0;
            min-height: 100vh;
            background: linear-gradient(180deg, #071021 0%, #071828 60%);
            color: #e6eef8;
            display: flex;
            justify-content: center;
            padding: 32px 16px;
        }

        .wrap {
            width: 100%;
            max-width: var(--max-width);
        }

        header {
            display: flex;
            gap: 16px;
            align-items: center;
            margin-bottom: 20px
        }

        .brand {
            display: flex;
            gap: 12px;
            align-items: center
        }

        .logo {
            width: 48px;
            height: 48px;
            border-radius: 10px;
            background: linear-gradient(135deg, var(--accent), #06b6d4);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700
        }

        h1 {
            font-size: 20px;
            margin: 0
        }

        p.lead {
            margin: 0;
            color: var(--muted);
            font-size: 13px
        }

        .controls {
            display: flex;
            gap: 12px;
            margin-left: auto;
            align-items: center
        }

        input.search {
            background: var(--glass);
            border: 1px solid rgba(255, 255, 255, 0.04);
            padding: 8px 12px;
            border-radius: 8px;
            color: inherit;
            min-width: 220px
        }

        select,
        button {
            background: transparent;
            color: inherit;
            border: 1px solid rgba(255, 255, 255, 0.06);
            padding: 8px 10px;
            border-radius: 8px;
            cursor: pointer
        }

        main {
            display: grid;
            grid-template-columns: 380px 1fr;
            gap: 20px
        }

        /* left column */
        .left {
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), transparent);
            padding: 16px;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.03)
        }

        .grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
            margin-top: 12px;
        }

        .card {
            display: flex;
            gap: 10px;
            padding: 10px;
            align-items: center;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.02);
            cursor: pointer;
            transition: transform .12s, box-shadow .12s
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.6)
        }

        .thumb {
            width: 56px;
            height: 40px;
            border-radius: 6px;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0.01));
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700
        }

        .meta {
            flex: 1
        }

        .meta h3 {
            margin: 0;
            font-size: 14px
        }

        .meta p {
            margin: 4px 0 0;
            font-size: 12px;
            color: var(--muted)
        }

        .tags {
            display: flex;
            gap: 6px;
            margin-top: 8px;
            flex-wrap: wrap
        }

        .tag {
            font-size: 11px;
            padding: 4px 6px;
            border-radius: 6px;
            background: rgba(255, 255, 255, 0.03);
            color: var(--muted)
        }

        .actions {
            display: flex;
            gap: 8px;
            align-items: center
        }

        .small {
            font-size: 12px;
            padding: 6px 8px
        }

        /* right column (preview) */
        .viewer {
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.01), transparent);
            border-radius: 12px;
            padding: 12px;
            min-height: 60vh;
            border: 1px solid rgba(255, 255, 255, 0.03);
            display: flex;
            flex-direction: column
        }

        .viewer header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 8px
        }

        .viewer iframe {
            flex: 1;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.03);
            width: 100%;
            min-height: 420px
        }

        .viewer .placeholder {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--muted);
            font-size: 14px
        }

        footer {
            margin-top: 16px;
            color: var(--muted);
            font-size: 13px
        }

        @media (max-width:980px) {
            main {
                grid-template-columns: 1fr;
            }

            .viewer iframe {
                min-height: 320px
            }
        }
    </style>
</head>

<body>
    <div class="wrap">
        <header>
            <div class="brand">
                <div class="logo">DEV</div>
                <div>
                    <h1>Meus Projetos de Estudo</h1>
                    <p class="lead">Clique em um projeto para visualizar. Use o botão para abrir em nova aba.</p>
                </div>
            </div>

            <div class="controls">
                <input class="search" placeholder="Procurar projeto... (nome ou tag)" id="search" />
                <select id="filter">
                    <option value="">Todas as categorias</option>
                </select>
                <button id="reset">Reset</button>
            </div>
        </header>

        <main>
            <aside class="left">
                <div style="display:flex; justify-content:space-between; align-items:center">
                    <h2 style="margin:0;font-size:16px">Projetos</h2>
                    <div style="font-size:12px;color:var(--muted)">Total: <span id="total">0</span></div>
                </div>

                <div class="grid" id="cards"></div>
            </aside>

            <section class="viewer">
                <header>
                    <div style="flex:1">
                        <strong id="previewTitle">Nenhum projeto selecionado</strong>
                        <div id="previewPath" style="font-size:12px;color:var(--muted)"></div>
                    </div>
                    <div class="actions">
                        <button id="openTab" class="small">Abrir em nova aba</button>
                        <button id="hideIframe" class="small">Fechar</button>
                    </div>
                </header>

                <div id="viewerArea">
                    <div class="placeholder">Selecione um projeto no painel esquerdo para visualizar aqui.</div>
                </div>

                <footer>
                    Dica: cada projeto deve ter um <code>index.html</code> na sua pasta para funcionar corretamente.
                </footer>
            </section>
        </main>
    </div>

    <script>
        /* ======= MODELO DE PROJETOS =======
           Edite essa lista para adicionar/remover projetos.
           Cada entrada: { title, folder, description, tags: [..] }
           folder -- caminho relativo até a pasta do projeto (sem barra final).
           Ex: folder: 'projeto-calculadora'
        */
        const projects = [
            { title: 'Clone do Spotify', folder: 'projeto-spotify-clone', description: 'Clone simples do UI do Spotify.', tags: ['react', 'ui'] },
            { title: 'Calculadora', folder: 'projeto-calculadora', description: 'Calculadora básica em JS.', tags: ['javascript'] },
            { title: 'Lista de Tarefas', folder: 'projeto-lista-tarefas', description: 'Todo list com LocalStorage.', tags: ['javascript', 'dom'] }
            // adicione mais projetos aqui
        ];

        /* ======= LÓGICA DO HUB (não é preciso mudar) ======= */
        const cardsEl = document.getElementById('cards');
        const totalEl = document.getElementById('total');
        const searchEl = document.getElementById('search');
        const filterEl = document.getElementById('filter');
        const previewTitle = document.getElementById('previewTitle');
        const previewPath = document.getElementById('previewPath');
        const viewerArea = document.getElementById('viewerArea');
        const openTabBtn = document.getElementById('openTab');
        const hideIframeBtn = document.getElementById('hideIframe');

        let current = null;

        function buildTagsList() {
            const tags = new Set();
            projects.forEach(p => p.tags && p.tags.forEach(t => tags.add(t)));
            // limpar select e adicionar
            filterEl.innerHTML = '<option value="">Todas as categorias</option>' + [...tags].map(t => `<option value="${t}">${t}</option>`).join('');
        }

        function render(list) {
            cardsEl.innerHTML = '';
            list.forEach(p => {
                const div = document.createElement('div');
                div.className = 'card';
                div.innerHTML = `
          <div class="thumb">${p.title.split(' ').map(s => s[0]).slice(0, 2).join('').toUpperCase()}</div>
          <div class="meta">
            <h3>${p.title}</h3>
            <p>${p.description || ''}</p>
            <div class="tags">${(p.tags || []).map(t => `<span class="tag">${t}</span>`).join('')}</div>
          </div>
          <div style="display:flex;flex-direction:column;gap:6px">
            <button class="small" data-open>Visualizar</button>
            <a class="small" href="${p.folder}/index.html" target="_blank" rel="noreferrer">Nova aba</a>
          </div>
        `;

                // clique no card
                div.addEventListener('click', (e) => {
                    // evitar disparar ao clicar no link
                    if (e.target && (e.target.tagName === 'A' || e.target.closest('a'))) return;
                    openProject(p);
                });

                // botão visualizar
                div.querySelector('[data-open]').addEventListener('click', (ev) => { ev.stopPropagation(); openProject(p); });

                cardsEl.appendChild(div);
            });
            totalEl.textContent = list.length;
        }

        function openProject(p) {
            current = p;
            previewTitle.textContent = p.title;
            previewPath.textContent = p.folder + '/index.html';

            // cria iframe
            const iframe = document.createElement('iframe');
            iframe.src = p.folder + '/index.html';
            iframe.loading = 'lazy';
            iframe.allow = 'geolocation; microphone; camera; midi; encrypted-media';
            iframe.style.height = '60vh';

            viewerArea.innerHTML = '';
            viewerArea.appendChild(iframe);

            openTabBtn.onclick = () => window.open(iframe.src, '_blank');
            hideIframeBtn.onclick = () => { viewerArea.innerHTML = '<div class="placeholder">Selecione um projeto no painel esquerdo para visualizar aqui.</div>'; previewTitle.textContent = 'Nenhum projeto selecionado'; previewPath.textContent = ''; current = null; };
        }

        function filterAndRender() {
            const q = (searchEl.value || '').toLowerCase();
            const tag = filterEl.value;
            const filtered = projects.filter(p => {
                const inText = p.title.toLowerCase().includes(q) || (p.description || '').toLowerCase().includes(q);
                const inTag = !tag || (p.tags || []).includes(tag);
                return inText && inTag;
            });
            render(filtered);
        }

        // eventos
        searchEl.addEventListener('input', filterAndRender);
        filterEl.addEventListener('change', filterAndRender);
        document.getElementById('reset').addEventListener('click', () => { searchEl.value = ''; filterEl.value = ''; filterAndRender(); });

        // inicializa
        buildTagsList();
        render(projects);
    </script>
</body>

</html>